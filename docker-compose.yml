version: "3"
services:
  server:
    build:
      context: .
      dockerfile: ./docker/server/Dockerfile
    image: ota-server
    command: python3 -m http.server 8080
    container_name: ota-server
    ports:
      - 8080:8080
    logging:
      driver: none
  client:
    build:
      context: .
      dockerfile: ./docker/client/Dockerfile
    image: ota-client
    command: python3 -m pytest tests2 --cov=app2
    container_name: ota-client
    volumes:
      - .:/ota-client
    depends_on:
      - server

